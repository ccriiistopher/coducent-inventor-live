"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[802],{15771:function(t,e,n){n.d(e,{Z:function(){return S}});var i=n(83963),o=n(85623),r=n(83493),a=n(28141),s=n(85794),l=n(98286),c=n(38442),f=n(67294),u=n(94184),p=n.n(u),h=n(98423),d=n(4084),v=n(59844),g=n(48783),m=n(64019);function k(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function x(t,e,n){if(void 0!==n&&e.top>t.top-n)return n+e.top}function C(t,e,n){if(void 0!==n&&e.bottom<t.bottom+n)return n+(window.innerHeight-e.bottom)}var y=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],w=[];function E(t,e){if(t){var n=w.find((function(e){return e.target===t}));n?n.affixList.push(e):(n={target:t,affixList:[e],eventHandlers:{}},w.push(n),y.forEach((function(e){n.eventHandlers[e]=(0,m.Z)(t,e,(function(){n.affixList.forEach((function(t){t.lazyUpdatePosition()}))}))})))}}function T(t){var e=w.find((function(e){var n=e.affixList.some((function(e){return e===t}));return n&&(e.affixList=e.affixList.filter((function(e){return e!==t}))),n}));e&&0===e.affixList.length&&(w=w.filter((function(t){return t!==e})),y.forEach((function(t){var n=e.eventHandlers[t];n&&n.remove&&n.remove()})))}var N,L=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"===typeof Reflect?"undefined":(0,c.Z)(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};function Z(){return"undefined"!==typeof window?window:null}!function(t){t[t.None=0]="None",t[t.Prepare=1]="Prepare"}(N||(N={}));var P=function(t){(0,s.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).state={status:N.None,lastAffix:!1,prevTarget:null},t.getOffsetTop=function(){var e=t.props.offsetBottom,n=t.props.offsetTop;return void 0===e&&void 0===n&&(n=0),n},t.getOffsetBottom=function(){return t.props.offsetBottom},t.savePlaceholderNode=function(e){t.placeholderNode=e},t.saveFixedNode=function(e){t.fixedNode=e},t.measure=function(){var e=t.state,n=e.status,i=e.lastAffix,o=t.props.onChange,r=t.getTargetFunc();if(n===N.Prepare&&t.fixedNode&&t.placeholderNode&&r){var a=t.getOffsetTop(),s=t.getOffsetBottom(),l=r();if(l){var c={status:N.None},f=k(l),u=k(t.placeholderNode),p=x(u,f,a),h=C(u,f,s);void 0!==p?(c.affixStyle={position:"fixed",top:p,width:u.width,height:u.height},c.placeholderStyle={width:u.width,height:u.height}):void 0!==h&&(c.affixStyle={position:"fixed",bottom:h,width:u.width,height:u.height},c.placeholderStyle={width:u.width,height:u.height}),c.lastAffix=!!c.affixStyle,o&&i!==c.lastAffix&&o(c.lastAffix),t.setState(c)}}},t.prepareMeasure=function(){t.setState({status:N.Prepare,affixStyle:void 0,placeholderStyle:void 0})},t.render=function(){var e=t.context.getPrefixCls,n=t.state,r=n.affixStyle,a=n.placeholderStyle,s=t.props,l=s.prefixCls,c=s.children,u=p()((0,o.Z)({},e("affix",l),!!r)),v=(0,h.Z)(t.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return f.createElement(d.default,{onResize:function(){t.updatePosition()}},f.createElement("div",(0,i.Z)({},v,{ref:t.savePlaceholderNode}),r&&f.createElement("div",{style:a,"aria-hidden":"true"}),f.createElement("div",{className:u,ref:t.saveFixedNode,style:r},f.createElement(d.default,{onResize:function(){t.updatePosition()}},c))))},t}return(0,a.Z)(n,[{key:"getTargetFunc",value:function(){var t=this.context.getTargetContainer,e=this.props.target;return void 0!==e?e:t||Z}},{key:"componentDidMount",value:function(){var t=this,e=this.getTargetFunc();e&&(this.timeout=setTimeout((function(){E(e(),t),t.updatePosition()})))}},{key:"componentDidUpdate",value:function(t){var e=this.state.prevTarget,n=this.getTargetFunc(),i=null;n&&(i=n()||null),e!==i&&(T(this),i&&(E(i,this),this.updatePosition()),this.setState({prevTarget:i})),t.offsetTop===this.props.offsetTop&&t.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),T(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var t=this.getTargetFunc(),e=this.state.affixStyle;if(t&&e){var n=this.getOffsetTop(),i=this.getOffsetBottom(),o=t();if(o&&this.placeholderNode){var r=k(o),a=k(this.placeholderNode),s=x(a,r,n),l=C(a,r,i);if(void 0!==s&&e.top===s||void 0!==l&&e.bottom===l)return}}this.prepareMeasure()}}]),n}(f.Component);P.contextType=v.E_,L([(0,g.U)()],P.prototype,"updatePosition",null),L([(0,g.U)()],P.prototype,"lazyUpdatePosition",null);var S=P},37802:function(t,e,n){n.d(e,{Z:function(){return N}});var i=n(83963),o=n(85623),r=n(83493),a=n(28141),s=n(28711),l=n(85794),c=n(98286),f=n(67294),u=n(94184),p=n.n(u),h=n(64019),d=n(15771),v=n(59844),g=n(58375),m=n(66367),k=f.createContext(null);function x(){return window}function C(t,e){if(!t.getClientRects().length)return 0;var n=t.getBoundingClientRect();return n.width||n.height?e===window?(e=t.ownerDocument.documentElement,n.top-e.clientTop):n.top-e.getBoundingClientRect().top:n.top}var y=/#(\S+)$/,w=function(t){(0,l.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).state={activeLink:null},t.wrapperRef=f.createRef(),t.links=[],t.registerLink=function(e){t.links.includes(e)||t.links.push(e)},t.unregisterLink=function(e){var n=t.links.indexOf(e);-1!==n&&t.links.splice(n,1)},t.getContainer=function(){var e=t.context.getTargetContainer;return(t.props.getContainer||e||x)()},t.handleScrollTo=function(e){var n=t.props,i=n.offsetTop,o=n.targetOffset;t.setCurrentActiveLink(e);var r=t.getContainer(),a=(0,m.Z)(r,!0),s=y.exec(e);if(s){var l=document.getElementById(s[1]);if(l){var c=a+C(l,r);c-=void 0!==o?o:i||0,t.animating=!0,(0,g.Z)(c,{callback:function(){t.animating=!1},getContainer:t.getContainer})}}},t.saveInkNode=function(e){t.inkNode=e},t.setCurrentActiveLink=function(e){var n=t.state.activeLink,i=t.props,o=i.onChange,r=i.getCurrentAnchor;n!==e&&(t.setState({activeLink:"function"===typeof r?r():e}),null===o||void 0===o||o(e))},t.handleScroll=function(){if(!t.animating){var e=t.props,n=e.offsetTop,i=e.bounds,o=e.targetOffset,r=t.getCurrentAnchor(void 0!==o?o:n||0,i);t.setCurrentActiveLink(r)}},t.updateInk=function(){var e=(0,s.Z)(t),n=e.prefixCls,i=e.wrapperRef.current,o=null===i||void 0===i?void 0:i.getElementsByClassName("".concat(n,"-link-title-active"))[0];o&&(t.inkNode.style.top="".concat(o.offsetTop+o.clientHeight/2-4.5,"px"))},t.render=function(){var e=t.context,n=e.getPrefixCls,r=e.direction,a=t.props,s=a.prefixCls,l=a.className,c=void 0===l?"":l,u=a.style,h=a.offsetTop,v=a.affix,g=a.showInkInFixed,m=a.children,x=t.state.activeLink,C=n("anchor",s);t.prefixCls=C;var y=p()("".concat(C,"-ink-ball"),{visible:x}),w=p()("".concat(C,"-wrapper"),(0,o.Z)({},"".concat(C,"-rtl"),"rtl"===r),c),E=p()(C,{fixed:!v&&!g}),T=(0,i.Z)({maxHeight:h?"calc(100vh - ".concat(h,"px)"):"100vh"},u),N=f.createElement("div",{ref:t.wrapperRef,className:w,style:T},f.createElement("div",{className:E},f.createElement("div",{className:"".concat(C,"-ink")},f.createElement("span",{className:y,ref:t.saveInkNode})),m));return f.createElement(k.Provider,{value:{registerLink:t.registerLink,unregisterLink:t.unregisterLink,activeLink:t.state.activeLink,scrollTo:t.handleScrollTo,onClick:t.props.onClick}},v?f.createElement(d.Z,{offsetTop:h,target:t.getContainer},N):N)},t}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.scrollContainer=this.getContainer(),this.scrollEvent=(0,h.Z)(this.scrollContainer,"scroll",this.handleScroll),this.handleScroll()}},{key:"componentDidUpdate",value:function(){if(this.scrollEvent){var t=this.getContainer();this.scrollContainer!==t&&(this.scrollContainer=t,this.scrollEvent.remove(),this.scrollEvent=(0,h.Z)(this.scrollContainer,"scroll",this.handleScroll),this.handleScroll())}this.updateInk()}},{key:"componentWillUnmount",value:function(){this.scrollEvent&&this.scrollEvent.remove()}},{key:"getCurrentAnchor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=[],i=this.getContainer();if(this.links.forEach((function(o){var r=y.exec(o.toString());if(r){var a=document.getElementById(r[1]);if(a){var s=C(a,i);s<t+e&&n.push({link:o,top:s})}}})),n.length){var o=n.reduce((function(t,e){return e.top>t.top?e:t}));return o.link}return""}}]),n}(f.Component);w.defaultProps={affix:!0,showInkInFixed:!1},w.contextType=v.E_;var E=function(t){(0,l.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).handleClick=function(e){var n=t.context,i=n.scrollTo,o=n.onClick,r=t.props,a=r.href,s=r.title;null===o||void 0===o||o(e,{title:s,href:a}),i(a)},t.renderAnchorLink=function(e){var n=e.getPrefixCls,i=t.props,r=i.prefixCls,a=i.href,s=i.title,l=i.children,c=i.className,u=i.target,h=n("anchor",r),d=t.context.activeLink===a,v=p()("".concat(h,"-link"),(0,o.Z)({},"".concat(h,"-link-active"),d),c),g=p()("".concat(h,"-link-title"),(0,o.Z)({},"".concat(h,"-link-title-active"),d));return f.createElement("div",{className:v},f.createElement("a",{className:g,href:a,title:"string"===typeof s?s:"",target:u,onClick:t.handleClick},s),l)},t}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.context.registerLink(this.props.href)}},{key:"componentDidUpdate",value:function(t){var e=t.href,n=this.props.href;e!==n&&(this.context.unregisterLink(e),this.context.registerLink(n))}},{key:"componentWillUnmount",value:function(){this.context.unregisterLink(this.props.href)}},{key:"render",value:function(){return f.createElement(v.C,null,this.renderAnchorLink)}}]),n}(f.Component);E.defaultProps={href:"#"},E.contextType=k;var T=E;w.Link=T;var N=w}}]);